// Localization helpers and formatters

export const currencies: Record<string, { symbol: string; name: string; locale: string }> = {
    USD: { symbol: '$', name: 'US Dollar', locale: 'en-US' },
    EUR: { symbol: '€', name: 'Euro', locale: 'de-DE' },
    GBP: { symbol: '£', name: 'British Pound', locale: 'en-GB' },
    JPY: { symbol: '¥', name: 'Japanese Yen', locale: 'ja-JP' },
    CAD: { symbol: 'C$', name: 'Canadian Dollar', locale: 'en-CA' },
    AUD: { symbol: 'A$', name: 'Australian Dollar', locale: 'en-AU' },
    CHF: { symbol: 'Fr', name: 'Swiss Franc', locale: 'de-CH' },
    CNY: { symbol: '¥', name: 'Chinese Yuan', locale: 'zh-CN' },
    INR: { symbol: '₹', name: 'Indian Rupee', locale: 'en-IN' },
};

export function formatCurrency(amount: number, currencyCode: string = 'USD'): string {
    const currency = currencies[currencyCode] || currencies.USD;

    return new Intl.NumberFormat(currency.locale, {
        style: 'currency',
        currency: currencyCode,
    }).format(amount);
}

export function formatDate(dateString: string, locale: string = 'en-US'): string {
    return new Date(dateString).toLocaleDateString(locale, {
        year: 'numeric',
        month: 'short',
        day: 'numeric',
    });
}

export function formatDateLong(dateString: string, locale: string = 'en-US'): string {
    return new Date(dateString).toLocaleDateString(locale, {
        year: 'numeric',
        month: 'long',
        day: 'numeric',
    });
}

// Translation strings (extensible for multi-language support)
export const translations = {
    en: {
        dashboard: 'Dashboard',
        invoices: 'Invoices',
        invoice: 'Invoice',
        offer: 'Offer',
        clients: 'Clients',
        products: 'Products',
        expenses: 'Expenses',
        settings: 'Settings',
        offers: 'Offers',
        signIn: 'Sign In',
        signUp: 'Sign Up',
        signOut: 'Sign Out',
        create: 'Create',
        edit: 'Edit',
        delete: 'Delete',
        save: 'Save',
        saveChanges: 'Save Changes',
        cancel: 'Cancel',
        areYouSure: 'Are you sure?',
        totalRevenue: 'Total Revenue',
        pending: 'Pending',
        paid: 'Paid',
        overdue: 'Overdue',
        draft: 'Draft',
        sent: 'Sent',
        noInvoices: 'No invoices yet',
        noClients: 'No clients yet',
        noProducts: 'No products yet',
        generatePdf: 'Generate PDF',
        share: 'Share',
        print: 'Print',
        darkMode: 'Dark Mode',
        lightMode: 'Light Mode',
        systemTheme: 'System',
        currency: 'Currency',
        taxRate: 'Tax Rate',
        companyProfile: 'Company Profile',
        welcomeBack: 'Welcome back',
        totalExpenses: 'Total Expenses',
        netProfit: 'Net Profit',
        viewAll: 'View All',
        newInvoice: 'New Invoice',
        newClient: 'New Client',
        newProduct: 'New Product',
        newOffer: 'New Offer',
        search: 'Search',
        invoiceNumber: 'Invoice Number',
        issueDate: 'Issue Date',
        dueDate: 'Due Date',
        client: 'Client',
        items: 'Items',
        total: 'Total',
        status: 'Status',
        notes: 'Notes',
        addItem: 'Add Item',
        description: 'Description',
        quantity: 'Quantity',
        price: 'Price',
        tax: 'Tax',
        discount: 'Discount',
        subtotal: 'Subtotal',
        address: 'Address',
        phone: 'Phone',
        email: 'Email',
        website: 'Website',
        bankDetails: 'Bank Details',
        iban: 'IBAN',
        swift: 'SWIFT/BIC',
        appTheme: 'App Theme',
        brandColor: 'Brand Color',
        language: 'Language',
        biometricLock: 'Biometric Lock',
        backupData: 'Backup Data',
        version: 'Version',
        selectClient: 'Select Client',
        dailyReports: 'Daily Reports',
        recentInvoices: 'Recent Invoices',
        scanInvoice: 'Scan Invoice',
        todayRevenue: "Today's Revenue",
        todayInvoices: "Today's Invoices",
        noInvoicesToday: 'No invoices today',
        scanInvoiceDescription: 'Scan a QR code to view invoice details',
        performance: 'Performance',
        finances: 'Finances',
        deliveryNote: 'Delivery Note',
        deliveryNotes: 'Delivery Notes',
        regularInvoice: 'Regular Invoice',
        regularInvoices: 'Regular Invoices',
        order: 'Order',
        orders: 'Orders',
        proInvoice: 'Pro Invoice',
        proInvoices: 'Pro Invoices',
        incomePayment: 'Income Payment',
        incomePayments: 'Income Payments',
        expense: 'Expense',
        createNew: 'Create New',
        viewAllItems: 'View All',
        noItemsYet: 'No items yet',
        legal: 'Legal',
        reports: 'Reports',
        contracts: 'Contracts',
        contract: 'Contract',
        employmentContract: 'Employment Contract',
        employmentContracts: 'Employment Contracts',
        collaborationContract: 'Collaboration Contract',
        collaborationContracts: 'Collaboration Contracts',
        nda: 'NDA',
        ndas: 'NDAs',
        salesBook: 'Sales Book',
        salesBooks: 'Sales Books',
        dailyReport: 'Daily Report',
        management: 'Management',
        productsDashboard: 'Products Dashboard',
        addProduct: 'Add Product',
        inventory: 'Inventory',
        clientsDashboard: 'Clients Dashboard',
        addCustomer: 'Add Customer',
        customerCard: 'Customer Ledger',
        customerCards: 'Customer Ledgers',
        supplierCard: 'Supplier Ledger',
        supplierCards: 'Supplier Ledgers',
        expensesDashboard: 'Expenses Dashboard',
        trackExpenses: 'Track Expenses',
        trackIncomes: 'Track Incomes',
        addExpense: 'Add Expense',
        addIncome: 'Add Income',
        totalIncomes: 'Total Incomes',
        balance: 'Balance',
        thisMonth: 'This Month',
        expenseReports: 'Expense Reports',
        incomeReports: 'Income Reports',
        profile: 'Profile',
        profileDashboard: 'Profile Dashboard',
        appSettings: 'App Settings',
        paymentIntegrations: 'Payment Integrations',
        connectStripe: 'Connect Stripe',
        connectPayPal: 'Connect PayPal',
        connected: 'Connected',
        notConnected: 'Not Connected',
        disconnect: 'Disconnect',
        syncPayments: 'Sync Payments',
        lastSynced: 'Last Synced',
        autoSync: 'Auto Sync',
        syncInterval: 'Sync Interval',
        stripeDescription: 'Automatically track online sales from your Stripe account',
        paypalDescription: 'Automatically track payments from your PayPal account',
        onlineSales: 'Online Sales',
        paymentMethod: 'Payment Method',
        cash: 'Cash',
        bank: 'Bank',
        card: 'Card',
        amountReceived: 'Amount Received',
        change: 'Change',
        cashLimitError: 'Cash payments are not allowed for amounts above 300€',
        error: 'Error',
        success: 'Success',
        profileUpdated: 'Profile updated successfully',
        appLanguage: 'App Language',
        security: 'Security',
        // Payment Receipt translations
        paymentNumber: 'Payment Number',
        paymentDate: 'Payment Date',
        paymentAmount: 'Payment Amount',
        paymentDetails: 'Payment Details',
        selectInvoice: 'Select Invoice',
        registerPayment: 'Register Payment',
        updatePayment: 'Update Payment',
        newPayment: 'New Payment',
        editPayment: 'Edit Payment',
        totalReceived: 'Total Received',
        noPaymentsRecorded: 'No payments recorded',
        bankReference: 'Bank Reference',
        paymentReceipt: 'Payment Receipt',
        paymentReceipts: 'Payment Receipts',
        noUnpaidInvoices: 'No unpaid invoices',
        fiscalDocument: 'Fiscal Document',
        openReport: 'Open Report',
        businessSettings: 'Business Settings',
        paperSize: 'Paper Size',
        // Vendor translations
        vendor: 'Vendor',
        vendors: 'Vendors',
        selectVendor: 'Select Vendor',
        newVendor: 'New Vendor',
        vendorPayment: 'Vendor Payment',
        vendorPayments: 'Vendor Payments',
        supplierBill: 'Supplier Bill',
        supplierBills: 'Supplier Bills',
        newSupplierBill: 'New Supplier Bill',
        billNumber: 'Bill Number',
        aiInsights: 'AI Insights',
        scanBill: 'Scan Bill',
        quickPay: 'Quick Pay',
        aiAnalysis: 'AI Analysis',
        takePhoto: 'Take Photo',
        pickFromGallery: 'Pick from Gallery',
        scanningInProgress: 'Scanning in progress...',
        scanSuccess: 'Scan successful!',
        scanError: 'Scan failed. Please try again.',
        extractData: 'Extract Data',
        selectType: 'Select Document Type',
        selectTypeMsg: 'Is this a Supplier Bill or an Expense Receipt?',
        invoiceDefaults: 'Invoice Defaults',
        // Common & Forms
        name: 'Name',
        contactInfo: 'Contact Information',
        addressDetails: 'Address Details',
        businessDetails: 'Business Details',
        checkRegistry: 'Check Registry',
        taxIdVat: 'Tax ID / VAT Number',
        city: 'City',
        zipCode: 'Zip Code',
        country: 'Country',
        streetAddress: 'Street Address',
        nameRequired: 'Name is required',
        loginRequired: 'You must be logged in',
        saveError: 'Failed to save',
        loadError: 'Failed to load',
        noVendorsFound: 'No vendors found',
        noVendorsYet: 'No vendors yet',
        unknownClient: 'Unknown Client',
        recentActivity: 'Recent Activity',
        taxRegistered: 'Tax Registered',
        payment: 'Payment',
        stripeNetVolume: 'Stripe Net Volume',
        payouts: 'Payouts',
        stockAlert: 'Stock Alert',
        remaining: 'remaining',
    },
    sq: {
        dashboard: 'Paneli',
        invoices: 'Faturat',
        invoice: 'Faturë',
        offer: 'Ofertë',
        clients: 'Klientët',
        products: 'Produktet',
        expenses: 'Shpenzimet',
        settings: 'Cilësimet',
        offers: 'Ofertat',
        signIn: 'Hyr',
        signUp: 'Regjistrohu',
        signOut: 'Dil',
        create: 'Krijo',
        edit: 'Modifiko',
        delete: 'Fshi',
        save: 'Ruaj',
        saveChanges: 'Ruaj Ndryshimet',
        cancel: 'Anulo',
        areYouSure: 'A jeni i sigurt?',
        totalRevenue: 'Fitimi Total',
        pending: 'Në Pritje',
        paid: 'Paguar',
        overdue: 'Vonuar',
        draft: 'Draft',
        sent: 'Dërguar',
        noInvoices: 'Nuk ka fatura ende',
        noClients: 'Nuk ka klientë ende',
        noProducts: 'Nuk ka produkte ende',
        generatePdf: 'Gjenero PDF',
        share: 'Shpërndaj',
        print: 'Preview',
        darkMode: 'Tema e Errët',
        lightMode: 'Tema e Bardhë',
        systemTheme: 'Sistemi',
        currency: 'Valuta',
        taxRate: 'Shkalla e Tatimit',
        companyProfile: 'Profili i Kompanisë',
        welcomeBack: 'Mirë se vini',
        totalExpenses: 'Shpenzimet Totale',
        netProfit: 'Fitimi Neto',
        viewAll: 'Shiko të Gjitha',
        newInvoice: 'Faturë e Re',
        newClient: 'Klient i Ri',
        newProduct: 'Produkt i Ri',
        newOffer: 'Ofertë e Re',
        search: 'Kërko',
        invoiceNumber: 'Numri i Faturës',
        issueDate: 'Data e Lëshimit',
        dueDate: 'Data e Pagesës',
        client: 'Klienti',
        items: 'Artikujt',
        total: 'Total',
        status: 'Statusi',
        notes: 'Shënime',
        addItem: 'Shto Artikull',
        description: 'Përshkrimi',
        quantity: 'Sasia',
        price: 'Çmimi',
        tax: 'TVSH',
        discount: 'Zbritja',
        subtotal: 'Nëntotali',
        address: 'Adresa',
        phone: 'Telefoni',
        email: 'Email',
        website: 'Website',
        bankDetails: 'Detajet Bankare',
        iban: 'IBAN',
        swift: 'SWIFT/BIC',
        appTheme: 'Tema e Aplikacionit',
        brandColor: 'Ngjyra e Brendit',
        language: 'Gjuha',
        biometricLock: 'Mbrojtja me Biometri',
        backupData: 'Rezervimi i të Dhënave',
        version: 'Versioni',
        selectClient: 'Zgjidh Klientin',
        dailyReports: 'Raportet Ditore',
        recentInvoices: 'Faturat e Fundit',
        scanInvoice: 'Skano Faturën',
        todayRevenue: 'Fitimi i Sotëm',
        todayInvoices: 'Faturat e Sotme',
        noInvoicesToday: 'Nuk ka fatura sot',
        scanInvoiceDescription: 'Skano kodin QR për të parë detajet e faturës',
        performance: 'Performanca',
        finances: 'Financat',
        deliveryNote: 'Fletëdërgesë',
        deliveryNotes: 'Fletëdërgesat',
        regularInvoice: 'Faturë e Rregullt',
        regularInvoices: 'Faturat e Rregullta',
        order: 'Porosi',
        orders: 'Porosite',
        proInvoice: 'Pro Faturë',
        proInvoices: 'Pro Faturat',
        incomePayment: 'Pagesë Hyrëse',
        incomePayments: 'Pagesat Hyrëse',
        expense: 'Shpenzim',
        createNew: 'Krijo të Re',
        viewAllItems: 'Shiko të Gjitha',
        noItemsYet: 'Nuk ka ende',
        legal: 'Legale',
        reports: 'Raportet',
        contracts: 'Kontratat',
        contract: 'Kontratë',
        employmentContract: 'Kontratë Pune',
        employmentContracts: 'Kontratat e Punës',
        collaborationContract: 'Kontratë Bashkëpunimi',
        collaborationContracts: 'Kontratat e Bashkëpunimit',
        nda: 'NDA',
        ndas: 'NDA-të',
        salesBook: 'Libri i Shitjes',
        salesBooks: 'Librat e Shitjes',
        dailyReport: 'Raport Ditor',
        management: 'Menaxhimi',
        productsDashboard: 'Paneli i Produkteve',
        addProduct: 'Shto Produkt',
        inventory: 'Inventari',
        clientsDashboard: 'Paneli i Klientëve',
        addCustomer: 'Shto Blerës',
        customerCard: 'Kartela e Blerësit',
        customerCards: 'Kartelat e Blerësve',
        supplierCard: 'Kartela e Furnitorit',
        supplierCards: 'Kartelat e Furnitorëve',
        expensesDashboard: 'Paneli i Shpenzimeve',
        trackExpenses: 'Gjurmoni Shpenzimet',
        trackIncomes: 'Gjurmoni të Ardhurat',
        addExpense: 'Shto Shpenzim',
        addIncome: 'Shto të Ardhura',
        totalIncomes: 'Të Ardhurat Totale',
        balance: 'Bilanci',
        thisMonth: 'Këtë Muaj',
        expenseReports: 'Raportet e Shpenzimeve',
        incomeReports: 'Raportet e të Ardhurave',
        profile: 'Profili',
        profileDashboard: 'Paneli i Profilit',
        appSettings: 'Cilësimet e Aplikacionit',
        paymentIntegrations: 'Integrimet e Pagesave',
        connectStripe: 'Lidh Stripe',
        connectPayPal: 'Lidh PayPal',
        connected: 'I Lidhur',
        notConnected: 'Nuk është i Lidhur',
        disconnect: 'Shkëput',
        syncPayments: 'Sinkronizo Pagesat',
        lastSynced: 'Sinkronizimi i Fundit',
        autoSync: 'Sinkronizo Automatikisht',
        syncInterval: 'Intervali i Sinkronizimit',
        stripeDescription: 'Gjurmo automatikisht shitjet online nga llogaria juaj Stripe',
        paypalDescription: 'Gjurmo automatikisht pagesat nga llogaria juaj PayPal',
        onlineSales: 'Shitjet Online',
        paymentMethod: 'Mënyra e Pagesës',
        cash: 'Cash',
        bank: 'Bankë',
        card: 'Kartelë',
        amountReceived: 'Shuma e Pranuar',
        change: 'Kusuri',
        cashLimitError: 'Pagesat cash nuk lejohen mbi 300€',
        error: 'Gabim',
        success: 'Sukses',
        profileUpdated: 'Profili u përditësua me sukses',
        appLanguage: 'Gjuha e Aplikacionit',
        security: 'Siguria',
        businessSettings: 'Cilësimet e Biznesit',
        paperSize: 'Madhësia e Letrës',
        // Payment Receipt translations
        paymentNumber: 'Numri i Pagesës',
        paymentDate: 'Data e Pagesës',
        paymentAmount: 'Shuma e Pagesës',
        paymentDetails: 'Detajet e Pagesës',
        selectInvoice: 'Zgjidh Faturën',
        registerPayment: 'Regjistro Pagesën',
        updatePayment: 'Përditëso Pagesën',
        newPayment: 'Pagesë e Re',
        editPayment: 'Modifiko Pagesën',
        totalReceived: 'Total i Pranuar',
        noPaymentsRecorded: 'Nuk ka pagesa të regjistruara',
        bankReference: 'Referenca Bankare',
        paymentReceipt: 'Mandat Arkëtimi',
        paymentReceipts: 'Mandatet e Arkëtimit',
        noUnpaidInvoices: 'Nuk ka fatura të papaguara',
        fiscalDocument: 'Dokument Fiskal',
        openReport: 'Hap Raportin',
        // Vendor translations
        vendor: 'Furnitor',
        vendors: 'Furnitorët',
        selectVendor: 'Zgjidh Furnitorin',
        newVendor: 'Furnitor i Ri',
        vendorPayment: 'Pagesë Furnitori',
        vendorPayments: 'Pagesat e Furnitorëve',
        supplierBill: 'Faturë e Hyrjes',
        supplierBills: 'Faturat e Hyrjes',
        newSupplierBill: 'Faturë e Re Hyrëse',
        billNumber: 'Numri i Faturës',
        aiInsights: 'Analiza AI',
        scanBill: 'Skano Faturën',
        quickPay: 'Pagesë e Shpejtë',
        aiAnalysis: 'Analiza AI',
        takePhoto: 'Shkrep Foto',
        pickFromGallery: 'Zgjidh nga Galeria',
        scanningInProgress: 'Skanimi në proces...',
        scanSuccess: 'Skanimi u krye me sukses!',
        scanError: 'Skanimi dështoi. Ju lutem provoni përsëri.',
        extractData: 'Nxirr të Dhënat',
        selectType: 'Zgjidh Llojin e Dokumentit',
        selectTypeMsg: 'A është kjo faturë hyrëse apo shpenzim?',
        invoiceDefaults: 'Cilësimet e Faturës',
        // Common & Forms
        name: 'Emri',
        contactInfo: 'Informacioni i Kontaktit',
        addressDetails: 'Detajet e Adresës',
        businessDetails: 'Detajet e Biznesit',
        checkRegistry: 'Kontrollo Regjistrin',
        taxIdVat: 'Nr. Fiskal / TVSH',
        city: 'Qyteti',
        zipCode: 'Kodi Postar',
        country: 'Shteti',
        streetAddress: 'Adresa e Plotë',
        nameRequired: 'Emri është obligativ',
        loginRequired: 'Duhet të jeni të kyçur',
        saveError: 'Ruajtja dështoi',
        loadError: 'Dështoi ngarkimi',
        noVendorsFound: 'Nuk u gjet asnjë furnitor',
        noVendorsYet: 'Nuk ka furnitorë ende',
        unknownClient: 'Klient i panjohur',
        recentActivity: 'Aktiviteti i Fundit',
        taxRegistered: 'Me NUI',
        payment: 'Pagesë',
        stripeNetVolume: 'Volumi Neto Stripe',
        payouts: 'Pagesat',
        stockAlert: 'Alarm Stoku',
        remaining: 'mbetura',
    },
};

export type TranslationKey = keyof typeof translations.en;

export function t(key: TranslationKey, locale: string = 'en'): string {
    const lang = translations[locale as keyof typeof translations] || translations.en;
    return lang[key] || key;
}
